{"ast":null,"code":"import { storage } from \"./config\";\nimport { uploadBytes, ref, getDownloadURL } from \"firebase/storage\";\nimport { v4 } from \"uuid\";\nexport function upImageFirebase(file) {\n  return new Promise(resolve => {\n    if (file === undefined) return undefined;\n    const imageRef = ref(storage, `products/${file.name + v4()}`);\n    //create sub promise\n    uploadBytes(imageRef, file).then(snapshot => {\n      getDownloadURL(snapshot.ref).then(url => {\n        let a = {\n          name: url\n        };\n        resolve(a);\n      });\n    });\n  });\n}","map":{"version":3,"names":["storage","uploadBytes","ref","getDownloadURL","v4","upImageFirebase","file","Promise","resolve","undefined","imageRef","name","then","snapshot","url","a"],"sources":["C:/Users/tuyen/Desktop/full_md6/fe_md6/src/firebase/Upfirebase.js"],"sourcesContent":["import {storage} from \"./config\";\r\nimport {uploadBytes,ref, getDownloadURL} from \"firebase/storage\";\r\nimport {v4} from \"uuid\";\r\n\r\nexport function upImageFirebase(file){\r\n    return new Promise(resolve => {\r\n        if(file === undefined) return undefined;\r\n        const imageRef = ref(storage, `products/${file.name + v4()}`)\r\n            //create sub promise\r\n            uploadBytes(imageRef, file).then((snapshot) => {\r\n                getDownloadURL(snapshot.ref).then(url => {\r\n                    let a = {name: url}\r\n                    resolve(a)\r\n                })\r\n            })\r\n    })\r\n}"],"mappings":"AAAA,SAAQA,OAAO,QAAO,UAAU;AAChC,SAAQC,WAAW,EAACC,GAAG,EAAEC,cAAc,QAAO,kBAAkB;AAChE,SAAQC,EAAE,QAAO,MAAM;AAEvB,OAAO,SAASC,eAAeA,CAACC,IAAI,EAAC;EACjC,OAAO,IAAIC,OAAO,CAACC,OAAO,IAAI;IAC1B,IAAGF,IAAI,KAAKG,SAAS,EAAE,OAAOA,SAAS;IACvC,MAAMC,QAAQ,GAAGR,GAAG,CAACF,OAAO,EAAG,YAAWM,IAAI,CAACK,IAAI,GAAGP,EAAE,CAAC,CAAE,EAAC,CAAC;IACzD;IACAH,WAAW,CAACS,QAAQ,EAAEJ,IAAI,CAAC,CAACM,IAAI,CAAEC,QAAQ,IAAK;MAC3CV,cAAc,CAACU,QAAQ,CAACX,GAAG,CAAC,CAACU,IAAI,CAACE,GAAG,IAAI;QACrC,IAAIC,CAAC,GAAG;UAACJ,IAAI,EAAEG;QAAG,CAAC;QACnBN,OAAO,CAACO,CAAC,CAAC;MACd,CAAC,CAAC;IACN,CAAC,CAAC;EACV,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}